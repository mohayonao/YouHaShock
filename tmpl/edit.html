<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>YOUはSHOCK::管理画面</title>
  </head>
  <body>
    <form action="/admin/edit" method="post">
      <input type="text" id="name" name="name" placeholder="データの名前" /><br/>
      <textarea id="yaml-text" name="yaml-text" cols="70" rows="20" placeholder="YAML形式のデータが保存できます"></textarea><br/>
      <input type="submit" name="submit" value="SUBMIT" />
      <input type="submit" name="submit" value="DELETE" />
    </form>
    <ul id="filelist">
    {% for name in filelist %}
    <li><a href="javascript:void(0)" target="{{name}}">{{name}}</a></li>
    {% endfor %}
    </ul>
  </body>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
  <script type="text/javascript">
    $(function () {
        $("#filelist li a").click(
            function () {
                var name = $(this).attr('target');
                $("#name").val(name);
                $("#yaml-text").load('/admin/load/' + name);
            });
    });
  </script>
</html>
